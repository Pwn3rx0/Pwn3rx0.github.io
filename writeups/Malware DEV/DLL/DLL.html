<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Introduction to Dynamic Link Libraries (DLLs) - pwn3rx0</title>
  <meta name="description" content="Understanding the fundamentals of DLLs, their modular benefits, and a practical code example for creating a simple exported function.">
  <meta name="keywords" content="windows, programming, dll, c++, win-api, cybersecurity, security, writeups, ctf, pentest, penetration testing, red team, red teaming, malware, malware development, windows internals, windows api, shellcode, payload, injection, active directory, ad, ad enumeration, kerberoasting, lateral movement, post exploitation, defense evasion, opsec, privilege escalation, blue team, incident response, andrew mamdouh, pwn3rx0, andrew_mamdouh, malware dev">
  <meta name="author" content="Andrew Mamdouh (pwn3rx0)">
  <link rel="canonical" href="/writeups/Malware DEV/DLL/DLL.html">
  <meta name="robots" content="index,follow,max-image-preview:large">
  <meta property="og:title" content="Introduction to Dynamic Link Libraries (DLLs)">
  <meta property="og:description" content="Understanding the fundamentals of DLLs, their modular benefits, and a practical code example for creating a simple exported function.">
  <meta property="og:type" content="article">
  <meta property="og:site_name" content="pwn3rx0 blog">
  <meta property="og:image" content="/assets/images/og-home.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:url" content="/writeups/Malware DEV/DLL/DLL.html">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Introduction to Dynamic Link Libraries (DLLs)">
  <meta name="twitter:description" content="Understanding the fundamentals of DLLs, their modular benefits, and a practical code example for creating a simple exported function.">
  <meta name="twitter:image" content="/assets/images/og-home.png">
  <meta name="site-base" content="/">
  <link rel="stylesheet" href="/assets/css/styles.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github-dark.min.css">
  <link rel="icon" href="/assets/icons/favicon.svg" type="image/svg+xml">
  <link rel="icon" href="/assets/icons/favicon.ico" type="image/x-icon" sizes="any">
</head>
<body>
  <div class="app-container">
    <aside class="sidebar">
      <div class="profile-card">
        <div class="avatar">
          <img src="/assets/images/profile.jpg" alt="Andrew Mamdouh">
        </div>
        <div class="profile-name">Andrew Mamdouh</div>
        <div class="profile-nick" style="color:#8a8f98;">(pwn3rx0)</div>
        <nav class="social-tabs">
          <a class="chip" href="https://github.com/pwn3rx0">GitHub</a>
          <a class="chip" href="https://www.linkedin.com/in/andrew-mamdouh122">LinkedIn</a>
          <a class="chip" href="https://x.com/pwn3rx0">X</a>
        </nav>
      </div>
      <nav class="category-tree"></nav>
    </aside>
    <main class="main-content">
      <nav class="breadcrumbs">
      
      <a href="/">Home</a>
    
      <span class="separator">/</span>
      <a href="/category/Malware DEV.html">Malware DEV</a>
    
      <span class="separator">/</span>
      <a href="/category/Malware DEV/DLL.html">DLL</a>
    
      <span class="separator">/</span>
      <span class="current">Introduction to Dynamic Link Libraries (DLLs)</span>
    </nav>
      <article class="writeup">
        <header>
          <h1>Introduction to Dynamic Link Libraries (DLLs)</h1>
          <div class="writeup-meta">
            <div class="writeup-date">date: <time datetime="February 24, 2026 at 02:00 AM">February 24, 2026 at 02:00 AM</time></div>
            <div class="tags-row">
              <div class="tags-label">tags:</div>
              <div class="tags"><span class="tag">windows</span><span class="tag">programming</span><span class="tag">dll</span><span class="tag">c++</span><span class="tag">win-api</span></div>
            </div>
            
          </div>
        </header>
        <div class="writeup-content"><p>A <strong>DLL (Dynamic Link Library)</strong> is a file that contains code, data, and resources that can be used by multiple programs at the same time.</p>
<h3>Why Use DLLs?</h3>
<ul>
<li><strong>Code Reuse</strong> – Share common functions across applications.</li>
<li><strong>Modularity</strong> – Split large programs into smaller components.</li>
<li><strong>Memory Efficiency</strong> – Shared use of code in memory.</li>
<li><strong>Easy Updates</strong> – Update logic in one DLL without changing all programs.</li>
</ul>
<h3>How DLLs Work</h3>
<ul>
<li>DLLs usually have a <code>.dll</code> extension.</li>
<li>You can:<ul>
<li><strong>Import</strong> functions at compile time (using <code>.lib</code>).</li>
<li><strong>Load</strong> them dynamically at runtime using <a href="/writeups/Malware%20DEV/Windows%20API/functions/DLL%20Stuff/LoadLibrary.html">LoadLibrary</a> and <a href="/writeups/Malware%20DEV/Windows%20API/functions/DLL%20Stuff/GetModuleHandelw.html">GetModuleHandelw</a>.</li>
</ul>
</li>
</ul>
<hr>
<h3>Simple Example: DLL with MessageBox</h3>
<p>The following code shows how to create a DLL that displays a message box using the Windows API.</p>
<h4>DLL Source Code in C</h4>
<pre><code class="language-c">#include &lt;windows.h&gt;
#include &lt;stdio.h&gt;

// Exported function that shows a message box
extern __declspec(dllexport) void hacked() {
    MessageBox(
        NULL,            // No owner window
        L&quot;hi&quot;,           // Message text
        L&quot;test&quot;,         // Message box title
        MB_OK            // Just an OK button
    );
}

// Entry point for the DLL
BOOL APIENTRY DllMain(
    HMODULE hModule,          // Handle to DLL
    DWORD  ul_reason_for_call, // Reason for call
    LPVOID lpReserved          // Reserved
)
{
    switch (ul_reason_for_call)
    {
    case DLL_PROCESS_ATTACH:
        // Code runs when DLL is loaded
        break;
    case DLL_THREAD_ATTACH:
        // Code runs when new thread starts
        break;
    case DLL_THREAD_DETACH:
        // Code runs when thread ends
        break;
    case DLL_PROCESS_DETACH:
        // Code runs when DLL is unloaded
        break;
    }
    return TRUE; // Successful initialization
}
</code></pre>
<h3>Code Explanation</h3>
<ol>
<li><code>extern __declspec(dllexport)</code>
  Exports the <code>hacked()</code> function so other applications can call it from the DLL.</li>
<li>i used <code>MessageBox</code> Function
  you can put any <code>WIN API</code> functions <a href="/writeups/Malware%20DEV/Windows%20API/functions/Win%20API%20Functions.html">Win API Functions</a></li>
<li><code>DllMain(...)</code>
  This is the entry point for the DLL:</li>
</ol>
<ul>
<li>Called automatically when the DLL is loaded or unloaded.</li>
<li>You can initialize or release resources here.</li>
</ul>
</div>
        <nav class="post-navigation">
          <span class="nav-link disabled"><span class="nav-direction">← Previous</span><span class="nav-title">No older post</span></span>
          
      <a href="/writeups/Malware DEV/DLL/Manual DLL Call.html" class="nav-link next-post">
        <span class="nav-direction">Next →</span>
        <span class="nav-title">Manual DLL Function Calling</span>
      </a>
    
        </nav>
        
      <aside class="related-posts">
        <h3>Related Writeups</h3>
        <ul class="related-list">
          <li><a href="/writeups/Malware DEV/Encryption/RC4 Native API.html">RC4 Stream Cipher (Native API)</a></li><li><a href="/writeups/Malware DEV/Execution/Execution.html">Shellcode Execution & Injection Strategies</a></li><li><a href="/writeups/Malware DEV/Execution/Local Dll Execution.html">Local DLL Execution</a></li>
        </ul>
      </aside>
    
      </article>
    </main>
  </div>
  <button class="mobile-menu-toggle">☰</button>
  <script src="/assets/js/main.js"></script>
  <script src="/assets/js/navigation.js"></script>
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$','$$'], ['\\[','\\]']]
      },
      svg: { fontCache: 'global' }
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js" defer></script>
  <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/languages/c.min.js" defer></script>
  <script>
    (function() {
      function enhanceCodeBlocks(scope) {
        const container = scope || document.querySelector('.writeup-content') || document;
        const blocks = Array.from(container.querySelectorAll('pre > code')).filter(c => !c.closest('.code-block'));
        blocks.forEach(code => {
          const pre = code.parentElement;
          if (!pre || pre.dataset.enhanced === 'true') return;
          pre.dataset.enhanced = 'true';
          let langClass = Array.from(code.classList || []).find(c => c.startsWith('language-'));
          if (!langClass) {
            const t = code.textContent || '';
            if (/#include\s+<[^>]+>/.test(t) || /\bint\s+main\s*\(/.test(t) || /#include\s+<Windows\.h>/i.test(t)) {
              code.classList.add('language-c');
              langClass = 'language-c';
            }
          }
          const lang = (langClass ? langClass.replace('language-', '') : 'text').toUpperCase();
          const wrapper = document.createElement('div');
          wrapper.className = 'code-block';
          const header = document.createElement('div');
          header.className = 'code-header';
          const langEl = document.createElement('span');
          langEl.className = 'code-lang';
          langEl.textContent = lang;
          const btn = document.createElement('button');
          btn.className = 'code-copy';
          btn.type = 'button';
          btn.textContent = 'Copy';
          btn.addEventListener('click', async () => {
            const text = code.innerText;
            const fallbackCopy = () => {
              const ta = document.createElement('textarea');
              ta.value = text;
              ta.style.position = 'fixed';
              ta.style.opacity = '0';
              ta.style.left = '-9999px';
              document.body.appendChild(ta);
              ta.focus();
              ta.select();
              try {
                document.execCommand('copy');
                btn.textContent = 'Copied';
              } catch (_) {
                btn.textContent = 'Failed';
              } finally {
                document.body.removeChild(ta);
                setTimeout(() => (btn.textContent = 'Copy'), 1200);
              }
            };
            try {
              if (navigator.clipboard && window.isSecureContext) {
                await navigator.clipboard.writeText(text);
                btn.textContent = 'Copied';
                setTimeout(() => (btn.textContent = 'Copy'), 1200);
              } else {
                fallbackCopy();
              }
            } catch (_) {
              fallbackCopy();
            }
          });
          header.appendChild(langEl);
          header.appendChild(btn);
          const holder = document.createElement('div');
          holder.className = 'code-content';
          pre.replaceWith(wrapper);
          holder.appendChild(pre);
          wrapper.appendChild(header);
          wrapper.appendChild(holder);
          if (window.hljs && typeof window.hljs.highlightElement === 'function') {
            window.hljs.highlightElement(code);
          } else if (window.hljs && typeof window.hljs.highlightAll === 'function') {
            window.hljs.highlightAll();
          }
        });
      }
      function indentAfterHeadings(scope) {
        const container = scope || document.querySelector('.writeup-content');
        if (!container) return;
        const headings = container.querySelectorAll('h1,h2,h3,h4,h5,h6');
        headings.forEach(h => {
          const level = parseInt(h.tagName.substring(1), 10);
          let el = h.nextElementSibling;
          while (el) {
            if (/^H[1-6]$/.test(el.tagName)) {
              const nextLevel = parseInt(el.tagName.substring(1), 10);
              if (nextLevel <= level) break;
            }
            if (el.tagName === 'P') {
              el.classList.add('indent-p');
            }
            el = el.nextElementSibling;
          }
        });
      }
      function initEnhancements() {
        if (window.mermaid) {
          mermaid.initialize({ startOnLoad: true, theme: 'dark' });
        }
        enhanceCodeBlocks();
        indentAfterHeadings();
        if (window.hljs && typeof window.hljs.highlightAll === 'function') {
          window.hljs.highlightAll();
        }
        const target = document.querySelector('.writeup-content');
        if (target && window.MutationObserver) {
          const mo = new MutationObserver(() => {
            enhanceCodeBlocks(target);
            indentAfterHeadings(target);
            if (window.hljs && typeof window.hljs.highlightAll === 'function') {
              window.hljs.highlightAll();
            }
          });
          mo.observe(target, { childList: true, subtree: true });
        }
      }
      window.addEventListener('load', initEnhancements);
    })();
  </script>
</body>
</html>
